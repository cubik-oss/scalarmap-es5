{"version":3,"file":"numbermap.js","sourceRoot":"","sources":["../numbermap.ts"],"names":[],"mappings":";;AACA;IAOI,mBAAY,MAAqB;QALjC,gBAAgB;QACR,cAAS,GAAG,CAAC,CAAC;QACtB,gBAAgB;QACR,SAAI,GAAuB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAGnD,EAAE,CAAA,CAAC,MAAM,CAAC,CAAC,CAAC;YACR,GAAG,CAAA,CAAgB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM;gBAAf,IAAA,iBAAK,EAAJ,SAAC,EAAC,SAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;aACjB;QACL,CAAC;IACL,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACvB,CAAC;IAED,0BAAM,GAAN,UAAO,GAAW;QACd,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACtB,EAAE,CAAA,CAAC,GAAG,CAAC,CAAC,CAAC;YACL,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;QACxB,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAED,2BAAO,GAAP,UAAQ,QAA4D,EAAE,OAAa;QAC/E,GAAG,CAAA,CAAC,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACzB,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QACtD,CAAC;IACL,CAAC;IAED,uBAAG,GAAH,UAAI,GAAW;QACX,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,uBAAG,GAAH,UAAI,GAAW;QACX,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;IAC5B,CAAC;IAED,uBAAG,GAAH,UAAI,GAAW,EAAE,KAAQ;QACrB,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACvB,EAAE,CAAA,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;QACxB,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,sBAAI,2BAAI;aAAR;YACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAED,0BAAM,GAAN;QACI,IAAM,MAAM,GAAQ,EAAE,CAAC;QACvB,GAAG,CAAA,CAAC,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACxD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,wBAAI,GAAJ;QACI,IAAM,IAAI,GAAG,EAAE,CAAC;QAChB,GAAG,CAAA,CAAC,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;YAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAW,CAAC,CAAC,gBAAgB;IACxC,CAAC;IAED,2BAAO,GAAP;QACI,IAAM,OAAO,GAAG,EAAE,CAAC;QACnB,GAAG,CAAA,CAAC,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;YAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjE,MAAM,CAAC,OAAc,CAAC,CAAC,gBAAgB;IAC3C,CAAC;IACL,gBAAC;AAAD,CAAC,AAzED,IAyEC;AAzEY,8BAAS","sourcesContent":["\nexport class NumberMap<V>{\n\n    /** @internal */\n    private _keyCount = 0;\n    /** @internal */\n    private _map: {[key: number]: V} = Object.create(null);\n\n    constructor(source?: [number,V][]) {\n        if(source) {\n            for(const [k,v] of source) {\n                this.set(k,v);\n            }\n        }\n    }\n\n    clear() {\n        this._map = Object.create(null);\n        this._keyCount = 0;\n    }\n\n    delete(key: number): boolean {\n        const had = this.has(key);\n        delete this._map[key];\n        if(had) {\n            this._keyCount -= 1;\n        }\n        return had;\n    }\n\n    forEach(callback: (value: V, key: number, map: NumberMap<V>) => void, thisArg?: any): void {\n        for(const key in this._map) {\n            callback.call(thisArg, this._map[key], key, this);\n        }\n    }\n\n    get(key: number): V | undefined {\n        return this._map[key];\n    }\n\n    has(key: number): boolean {\n        return key in this._map;\n    }\n\n    set(key: number, value: V): this {\n        const had = this.has(key);\n        this._map[key] = value;\n        if(!had) {\n            this._keyCount += 1;\n        }\n        return this;\n    }\n\n    get size(): number {\n        return this._keyCount;\n    }\n\n    values(): V[] {\n        const values: V[] = [];\n        for(const key in this._map) values.push(this._map[key]);\n        return values;\n    }\n\n    keys(): number[] {\n        const keys = [];\n        for(const key in this._map) keys.push(+key);\n        return keys as any; // index typings\n    }\n\n    entries(): [number,V][] {\n        const entries = [];\n        for(const key in this._map) entries.push([+key, this._map[key]]);\n        return entries as any; // index typings\n    }\n}\n"]}